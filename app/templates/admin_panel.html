<!-- templates/admin_panel.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="card">
    <h2>👑 Admin Panel</h2>
    <form method="post">
        <input type="text" name="phone" placeholder="📞 Phone Number" required><br>
        <input type="number" name="coins" placeholder="💰 Coins to Add">
        <button name="action" value="add" class="blue">➕ Add Coins</button>
        <button name="action" value="block" class="red">🚫 Block User</button>
        <button name="action" value="unblock" class="green">✅ Unblock User</button>
    </form>

    <h3>📱 Users</h3>
    <table>
        <tr><th>Phone</th><th>Password</th><th>Coins</th><th>Status</th></tr>
        {% for phone, data in users.items() %}
        <tr>
            <td>{{ phone }}</td>
            <td>{{ data.password }}</td>
            <td>{{ data.coins }}</td>
            <td>
                {% if phone in blocked %}
                    ❌
                {% else %}
                    ✅
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>

    <h3>📩 Message Logs</h3>
    <table>
        <tr><th>User</th><th>To</th><th>Message</th><th>Time</th></tr>
        {% for log in logs %}
        <tr>
            <td>{{ log.user }}</td>
            <td>{{ log.to }}</td>
            <td>{{ log.message }}</td>
            <td>{{ log.time }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
</body>
</html>
